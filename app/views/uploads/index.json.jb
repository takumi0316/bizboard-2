json = { status: :success }

json[:pagination] = self.pagination

json[:uploads] = uploads.each_with_object([]) do |r, result|

  result.push({
    id: r.id,
    name: r.name,
    url: r.file.service_url,
  }) if r.file.attached?
end

json